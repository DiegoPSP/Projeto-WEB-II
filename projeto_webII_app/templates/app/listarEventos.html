{% extends 'app/base.html' %}

{% block content %}
    <h1>Próximos Eventos</h1>
    {% if user.is_authenticated %}
        <a href="{% url 'criarEvento' %}" class="btn-novo">Novo Evento</a>
    {% endif %}

    <div class="list-container">
        {% for evento in obj_pagina %}
            <div class="card">
                <h3><a href="{% url 'detalharEvento' evento.id %}">{{ evento.titulo }}</a></h3>
                <p>{{ evento.data_hora|date:"d/m/Y H:i" }}</p>
                <p>{{ evento.local.nome }}</p>

                {% if user.is_authenticated %}
                    <div class="card-actions">
                        <a href="{% url 'atualizarEvento' evento.id %}" class="btn-editar">Editar</a>
                        <a href="{% url 'apagarEvento' evento.id %}" class="btn-danger">Apagar</a>
                    </div>
                {% endif %}
            </div>
        {% empty %}
            <p>Nenhum evento cadastrado.</p>
        {% endfor %}
    </div>

    <div class="pagination">
        {% if obj_pagina.has_previous %}
            <a href="?page={{ obj_pagina.previous_page_number }}">Anterior</a>
        {% endif %}

        <span class="page-current">
            Página {{ obj_pagina.number }} de {{ obj_pagina.paginator.num_pages }}.
        </span>

        {% if obj_pagina.has_next %}
            <a href="?page={{ obj_pagina.next_page_number }}">Próxima</a>
        {% endif %}
    </div>
    {% endblock %}