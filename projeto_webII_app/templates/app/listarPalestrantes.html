{% extends 'app/base.html' %}

{% block content %}
    <h1>Nossos Palestrantes</h1>
    {% if user.is_staff %}
        <a href="{% url 'criarPalestrante' %}" class="btn-novo">Novo Palestrante</a>
    {% endif %}

    <div class="list-container">
        
        {% for palestrante in obj_pagina %}
            <div class="card">
                
                {% if palestrante.foto %}
                    <img src="{{ palestrante.foto.url }}" alt="{{ palestrante.nome }}" class="palestrante-foto-small">
                {% endif %}
                
                <h3>{{ palestrante.nome }}</h3>
                
                <p>{{ palestrante.mini_bio|truncatewords:20 }}</p>

                {% if user.is_staff %}
                    <div class="card-actions">
                        <a href="{% url 'atualizarPalestrante' palestrante.id %}" class="btn-editar">Editar</a>
                        <a href="{% url 'apagarPalestrante' palestrante.id %}" class="btn-danger">Apagar</a>
                    </div>
                {% endif %}
            </div>
        {% empty %}
            <p>Nenhum palestrante cadastrado.</p>
        {% endfor %}
    </div>

    <div class="pagination">
        {% if obj_pagina.has_previous %}
            <a href="?page={{ obj_pagina.previous_page_number }}">Anterior</a>
        {% endif %}
        <span class="page-current">
            Página {{ obj_pagina.number }} de {{ obj_pagina.paginator.num_pages }}.
        </span>
        {% if obj_pagina.has_next %}
            <a href="?page={{ obj_pagina.next_page_number }}">Próxima</a>
        {% endif %}
    </div>
{% endblock %}